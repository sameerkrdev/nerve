{
  "name": "nerve",
  "private": true,
  "scripts": {
    "build": "turbo run build --concurrency=15",
    "build:logger": "turbo build --filter=@repo/logger --concurrency=15",
    "dev": "turbo run dev --concurrency=15",
    "lint": "turbo run lint --concurrency=15",
    "lint:fix": "turbo run lint -- --fix --concurrency=15",
    "format": "turbo run format -- --write --concurrency=15",
    "format:check": "turbo run format -- --check --concurrency=15",
    "check-types": "turbo run check-types --concurrency=15",
    "prepare": "husky install",
    "lint-staged": "lint-staged",
    "proto:gen": "turbo proto-gen:all",
    "db:studio": "turbo run db:studio",
    "db:generate": "turbo run db:generate",
    "db:migrate": "turbo run db:migrate",
    "db:deploy": "turbo run db:deploy",
    "infra:up": "pnpm run infra:db:up && pnpm run infra:kafka:up && pnpm run infra:clickhouse:up",
    "infra:down": "pnpm run infra:clickhouse:down && pnpm run infra:kafka:down && pnpm run infra:db:down",
    "infra:reset": "pnpm run infra:db:reset && pnpm run infra:kafka:reset && pnpm run infra:clickhouse:reset",
    "infra:restart": "pnpm run infra:db:restart && pnpm run infra:kafka:restart && pnpm run infra:clickhouse:restart",
    "infra:ps": "pnpm run infra:db:ps && pnpm run infra:kafka:ps && pnpm run infra:clickhouse:ps",
    "infra:db:up": "docker compose --env-file .env -f infra/docker/db/docker-compose.yml up -d",
    "infra:db:down": "docker compose --env-file .env -f infra/docker/db/docker-compose.yml down",
    "infra:db:reset": "docker compose --env-file .env -f infra/docker/db/docker-compose.yml down -v && docker compose --env-file .env -f infra/docker/db/docker-compose.yml up -d",
    "infra:db:restart": "docker compose --env-file .env -f infra/docker/db/docker-compose.yml restart",
    "infra:db:ps": "docker compose --env-file .env -f infra/docker/db/docker-compose.yml ps",
    "infra:kafka:up": "docker compose --env-file .env -f infra/docker/kafka/docker-compose.yml up -d",
    "infra:kafka:down": "docker compose --env-file .env -f infra/docker/kafka/docker-compose.yml down",
    "infra:kafka:reset": "docker compose --env-file .env -f infra/docker/kafka/docker-compose.yml down -v && docker compose --env-file .env -f infra/docker/kafka/docker-compose.yml up -d",
    "infra:kafka:restart": "docker compose --env-file .env -f infra/docker/kafka/docker-compose.yml restart",
    "infra:kafka:ps": "docker compose --env-file .env -f infra/docker/kafka/docker-compose.yml ps",
    "infra:clickhouse:up": "docker compose --env-file .env -f infra/docker/clickhouse/docker-compose.yml up -d",
    "infra:clickhouse:down": "docker compose --env-file .env -f infra/docker/clickhouse/docker-compose.yml down",
    "infra:clickhouse:reset": "docker compose --env-file .env -f infra/docker/clickhouse/docker-compose.yml down -v && docker compose --env-file .env -f infra/docker/clickhouse/docker-compose.yml up -d",
    "infra:clickhouse:restart": "docker compose --env-file .env -f infra/docker/clickhouse/docker-compose.yml restart",
    "infra:clickhouse:ps": "docker compose --env-file .env -f infra/docker/clickhouse/docker-compose.yml ps",
    "kafka:topics:list": "docker exec $(docker ps -qf name=kafka-1) kafka-topics --bootstrap-server localhost:9092 --list",
    "kafka:topics:create": "docker exec $(docker ps -qf name=kafka-1) kafka-topics --bootstrap-server localhost:9092 --create --topic",
    "kafka:consumer": "docker exec -it $(docker ps -qf name=kafka-1) kafka-console-consumer --bootstrap-server localhost:9092 --topic",
    "kafka:producer": "docker exec -it $(docker ps -qf name=kafka-1) kafka-console-producer --bootstrap-server localhost:9092 --topic"
  },
  "devDependencies": {
    "husky": "^8.0.0",
    "lint-staged": "^16.1.6",
    "prettier": "^3.6.2",
    "turbo": "^2.5.6",
    "typescript": "5.9.2"
  },
  "packageManager": "pnpm@9.0.0",
  "engines": {
    "node": ">=18"
  },
  "lint-staged": {
    "apps/**/*.{js,jsx,ts,tsx}": [
      "turbo run lint --filter='./apps/*' --",
      "prettier --write"
    ],
    "packages/**/*.{js,jsx,ts,tsx}": [
      "turbo run lint --filter='./packages/*' --",
      "prettier --write"
    ],
    "*.{json,md,yaml,yml}": [
      "prettier --write"
    ]
  }
}
