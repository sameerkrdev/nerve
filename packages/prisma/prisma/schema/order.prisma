model Order {
    id String @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid

    symbol String
    side   OrderSide
    type   OrderType

    price         Int
    average_price Int
    executedValue Int
    currency      String?

    status         OrderStatus
    status_message String?

    quantity           Int
    filled_quantity    Int
    remaining_quantity Int
    canelled_quantity  Int

    user_id String @db.Uuid
    user    User   @relation(fields: [user_id], references: [id])

    sellTrades Trade[] @relation("SellOrderRelation")
    buyTrades  Trade[] @relation("BuyOrderRelation")

    gateway_timeline DateTime
    engine_timeline  DateTime
    client_timeline  DateTime

    cancelled_at DateTime?
    filled_at    DateTime?

    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    // Indexes for performance
    @@index([user_id])
    @@index([symbol, status])
    @@index([created_at])
    @@map("orders")
}
